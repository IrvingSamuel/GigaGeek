$(document).ready(function(){$(".search-bar").find("input").on("keyup",debounce(500,function(e){if(!(e.keyCode>=9&&e.keyCode<=45||e.keyCode>=91&&e.keyCode<=93||e.keyCode>=112&&e.keyCode<=145)){let target=$(this),value=target.val(),resultBox=target.closest(".search-bar").find(".search-bar-content");resultBox.find(".results").remove(),value?(resultBox.removeClass("no-result loading"),$.getJSON({url:"/search?options%5Bprefix%5D=last&type=product&",dataType:"json",type:"POST",data:{q:value,view:"json"},beforeSend:function(){resultBox.addClass("open loading")},success:function(data){let source=null,template=null,items=[],resp={};data.results_count===0?resultBox.addClass("no-result"):(resultBox.removeClass("no-result"),source=$("#searchAjax").html(),template=Handlebars.compile(source),items=data.results.filter((item,index)=>index<=4),resp={items:[...items.map(function(item,i,items2){return item.price?{...item,price:item.price.indexOf("<")!=-1?$(item.price).text():item.price,compare_at_price:item.compare_at_price.indexOf("<")!=-1?$(item.compare_at_price).text():item.compare_at_price}:{...item}})],count:data.results_count,urlShowAll:"/search?q="+value},resultBox.append(template(resp))),resultBox.removeClass("loading"),update_currencies()}})):resultBox.removeClass("open loading")}}))});function debounce(ms,f){let timer=null;return function(...args){const onComplete=()=>{f.apply(this,args),timer=null};timer&&clearTimeout(timer),timer=setTimeout(onComplete,ms)}}
//# sourceMappingURL=/cdn/shop/t/33/assets/ajax-search.js.map?v=168360679523474507961639388329
